package uk.ac.ed.inf.Client;import com.fasterxml.jackson.core.type.TypeReference;import com.fasterxml.jackson.databind.ObjectMapper;import com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;import uk.ac.ed.inf.ilp.data.NamedRegion;import uk.ac.ed.inf.ilp.data.Order;import uk.ac.ed.inf.ilp.data.Restaurant;import java.io.IOException;import java.net.URL;import java.util.List;public class RestClient {    private String BASE_URL;    private final ObjectMapper mapper = new ObjectMapper().registerModule(new JavaTimeModule());    /**     * Constructor, sets the base URL for the server     * @param BASE_URL String containing the baseURL for the REST server     */    public RestClient(String BASE_URL) {        if(BASE_URL.endsWith("/") == false){            BASE_URL += "/";        }        this.BASE_URL = BASE_URL;    }    /**     * Retrieve List of Restaurants from REST Server     * @return List of Restaurants     */    public Restaurant[] getRestaurants() {        Restaurant[] restaurants = null;        try {            URL restaurantsUrl = new URL(BASE_URL + "/restaurants");            restaurants = mapper.readValue(restaurantsUrl, Restaurant[].class);        } catch (IOException e) {            System.err.println("Error fetching restaurants: " + e.getMessage());            System.exit(3);        }        return restaurants;    }    /**     * Retrieve no-fly zones from REST Server     * @return List of NamedRegions representing a no-fly zone     */    public List<NamedRegion> getNoFlyZones() {        List<NamedRegion> noFlyZones = null;        try {            URL noFlyZonesUrl = new URL(BASE_URL + "/noFlyZones");            noFlyZones = mapper.readValue(noFlyZonesUrl, new TypeReference<List<NamedRegion>>(){});        } catch (IOException e) {            System.err.println("Error fetching no fly zones: " + e.getMessage());            System.exit(3);        }        return noFlyZones;    }    /**     * Retrieve central area NamedRegion from REST Server     * @return NamedRegion containing central area     */    public NamedRegion getCentralArea(){        NamedRegion centralArea = null;        try {            URL centralAreaUrl = new URL(BASE_URL + "/centralArea");            centralArea = mapper.readValue(centralAreaUrl, new TypeReference<NamedRegion>(){});        } catch (IOException e) {            System.err.println("Error fetching central area: " + e.getMessage());            System.exit(3);        }        return centralArea;    }    /**     * Retrieves the list of all orders from the server     * @return List of Orders     */    public List<Order> getOrders() {        List<Order> orders = null;        try {            URL ordersUrl = new URL(BASE_URL + "/orders");            orders = mapper.readValue(ordersUrl, new TypeReference<List<Order>>(){});        } catch (IOException e) {            System.err.println("Error fetching orders: " + e.getMessage());            System.exit(3);        }        return orders;    }    /**     * Retrieves the list of all orders for a given date from the server     * @param date date to retrieve orders for     * @return List of Orders for that day     */    public List<Order> getOrders(String date) {        List<Order> orders = null;        try {            URL ordersUrl = new URL(BASE_URL + "/orders/" + date);            orders = mapper.readValue(ordersUrl, new TypeReference<List<Order>>(){});        } catch (IOException e) {            System.err.println("Error fetching orders: " + e.getMessage());            System.exit(3);        }        return orders;    }}